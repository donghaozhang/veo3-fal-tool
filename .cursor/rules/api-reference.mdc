---
description:
globs:
alwaysApply: false
---
# API Reference Guide

## Core Video Generation Functions
All functions are located in [veo_video_generation.py](mdc:veo_video_generation.py).

### Text-to-Video Generation
```python
generate_video_from_text(
    project_id: str,
    prompt: str,
    output_bucket_path: str,
    model_id: str = "veo-2.0-generate-001",
    location: str = "us-central1"
) -> str | None
```
**Purpose**: Generate video from text description  
**Returns**: GCS URI of generated video or None on error

### Image-to-Video Generation
```python
generate_video_from_image(
    project_id: str,
    image_path: str,  # GCS URI or local path
    output_bucket_path: str,
    prompt: str = None,  # Optional text guidance
    model_id: str = "veo-2.0-generate-001",
    location: str = "us-central1"
) -> str | None
```
**Purpose**: Generate video from image with optional text guidance  
**Returns**: GCS URI of generated video or None on error

### Local Image Upload and Generation
```python
generate_video_from_local_image(
    project_id: str,
    image_filename: str,  # Local file path
    output_bucket_path: str,
    prompt: str = None,
    model_id: str = "veo-2.0-generate-001",
    location: str = "us-central1"
) -> str | None
```
**Purpose**: Upload local image to GCS and generate video  
**Returns**: GCS URI of generated video or None on error

### Veo 3.0 Preview Generation
```python
generate_video_with_veo3_preview(
    project_id: str,
    prompt: str,
    output_bucket_path: str,
    location: str = "us-central1"
) -> str | None
```
**Purpose**: Generate video using Veo 3.0 preview model  
**Returns**: GCS URI of generated video or None on error

### File Download Utility
```python
download_gcs_file(
    gcs_uri: str,
    local_folder_path: str,
    project_id: str
) -> str | None
```
**Purpose**: Download generated video from GCS to local folder  
**Returns**: Local file path or None on error

## Configuration Objects
```python
from google.genai.types import GenerateVideosConfig

config = GenerateVideosConfig(
    aspect_ratio="16:9",  # "4:3", "1:1", etc.
    output_gcs_uri="gs://bucket/path/",
    duration_seconds=5,   # Optional
    fps=24               # Optional
)
```

## Usage Patterns
### Basic Text Generation
```python
video_uri = generate_video_from_text(
    project_id="my-project",
    prompt="A peaceful mountain landscape at sunset",
    output_bucket_path="gs://my-bucket/videos/"
)
```

### Image with Text Guidance
```python
video_uri = generate_video_from_image(
    project_id="my-project",
    image_path="path/to/image.jpg",
    output_bucket_path="gs://my-bucket/videos/",
    prompt="The scene comes alive with gentle movement"
)
```
