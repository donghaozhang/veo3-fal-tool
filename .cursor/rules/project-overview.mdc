---
description: 
globs: 
alwaysApply: false
---
# Video Generation Project Overview

This project provides Python utilities for generating videos using two different AI platforms:
1. **Google Veo API** on Vertex AI (higher resolution, automated setup with permission fixes)
2. **FAL AI Dual Models** (simpler setup, production ready)
   - **MiniMax Hailuo-02** (768p, prompt optimizer)
   - **Kling Video 2.1** (high-quality, CFG scale, negative prompts)

## Main Components

### Google Veo Implementation
Located in [veo3_video_generation/](mdc:veo3_video_generation) directory with automated setup and permission fixes.

**Key Components:**
- [veo_video_generation.py](mdc:veo3_video_generation/veo_video_generation.py) - Main Google Veo video generation functions
- [fix_permissions.py](mdc:veo3_video_generation/fix_permissions.py) - **Automated permission fix tool** (fixes 90% of setup issues)
- [demo.py](mdc:veo3_video_generation/demo.py) - Interactive demonstration with Veo 2.0/3.0 selection
- [test_veo.py](mdc:veo3_video_generation/test_veo.py) - Comprehensive test suite with command-line options

**Key Functions:**
- `generate_video_from_text()` - Creates videos from text prompts
- `generate_video_from_image()` - Creates videos from images with optional text guidance
- `generate_video_from_local_image()` - Handles local image uploads to GCS
- `generate_video_with_veo3_preview()` - Uses the newer Veo 3.0 model
- `download_gcs_file()` - Downloads generated videos from Google Cloud Storage

**Quick Setup**: Run `python fix_permissions.py` to automatically configure Google Cloud permissions

### FAL AI Dual-Model Implementation
Located in [fal_video_generation/](mdc:fal_video_generation) directory with simplified API-based approach supporting two models.

**Key Components:**
- [fal_video_generator.py](mdc:fal_video_generation/fal_video_generator.py) - Main FALVideoGenerator class with dual-model support
- [demo.py](mdc:fal_video_generation/demo.py) - Interactive demonstration script with model selection
- [test_fal_ai.py](mdc:fal_video_generation/test_fal_ai.py) - Comprehensive test suite for both models
- [README.md](mdc:fal_video_generation/README.md) - Complete FAL AI dual-model documentation

**Supported Models:**
- **MiniMax Hailuo-02**: `fal-ai/minimax/hailuo-02/standard/image-to-video`
  - Resolution: 768p
  - Duration: 6-10 seconds
  - Features: Prompt optimizer
- **Kling Video 2.1**: `fal-ai/kling-video/v2.1/standard/image-to-video`
  - Resolution: High-quality
  - Duration: 5-10 seconds
  - Features: CFG scale, negative prompts

## Project Structure
```
veo3/
â”œâ”€â”€ README.md                        # Multi-platform project overview
â”œâ”€â”€ requirements.txt                 # Main dependencies
â”œâ”€â”€ .env                            # Legacy configuration file
â”œâ”€â”€ archive/                         # Legacy tools and older versions
â”œâ”€â”€ veo3_video_generation/           # Google Veo implementation
â”‚   â”œâ”€â”€ veo_video_generation.py     # Main Google Veo functions
â”‚   â”œâ”€â”€ fix_permissions.py          # ðŸ”§ Automated permission fix tool
â”‚   â”œâ”€â”€ demo.py                     # Interactive Veo demo (2.0/3.0)
â”‚   â”œâ”€â”€ test_veo.py                 # Comprehensive test suite
â”‚   â”œâ”€â”€ README.md                   # Veo-specific documentation
â”‚   â”œâ”€â”€ requirements.txt            # Veo dependencies
â”‚   â”œâ”€â”€ .env                        # Veo configuration
â”‚   â”œâ”€â”€ images/                     # Input images (smiling_woman.jpg, bet.png)
â”‚   â””â”€â”€ result_folder/              # Veo output videos
â””â”€â”€ fal_video_generation/            # FAL AI dual-model implementation
    â”œâ”€â”€ fal_video_generator.py       # FAL AI video generator class (dual-model)
    â”œâ”€â”€ demo.py                      # Interactive demo with model selection
    â”œâ”€â”€ test_fal_ai.py              # Unified test suite (both models)
    â”œâ”€â”€ README.md                    # FAL AI dual-model documentation
    â”œâ”€â”€ requirements.txt             # FAL AI dependencies
    â”œâ”€â”€ .env                         # FAL AI configuration
    â”œâ”€â”€ output/                      # FAL AI generated videos
    â””â”€â”€ test_output/                 # Test-generated videos
```

## Configuration Requirements

### Google Veo Setup
- **Quick Setup**: Run `python fix_permissions.py` (fixes 90% of issues automatically)
- Google Cloud Project ID (configured in [veo3_video_generation/.env](mdc:veo3_video_generation/.env))
- Google Cloud Storage bucket for output
- Vertex AI API enabled (automated by fix script)
- gcloud CLI authentication

### FAL AI Setup (Simpler)
- FAL AI API key in [fal_video_generation/.env](mdc:fal_video_generation/.env)
- Python dependencies: fal-client, requests, python-dotenv
- Single API key works for both Hailuo and Kling models

## Model Selection Guidelines

### Choose MiniMax Hailuo-02 when:
- You need reliable 768p video generation
- You want AI-powered prompt optimization
- You prefer the established model with proven results

### Choose Kling Video 2.1 when:
- You need high-quality video output
- You want fine control with CFG scale parameters
- You need negative prompt capabilities for better quality control

### Choose Google Veo when:
- You need 1080p resolution
- You want longer videos
- You already use Google Cloud infrastructure

## Usage Recommendations
- **Prototyping**: Start with FAL AI (either model) for quick testing
- **Production**: Use FAL AI for API-based deployments, Google Veo for high-resolution needs
- **Comparison**: Use the built-in comparison tools to test both FAL AI models side-by-side








